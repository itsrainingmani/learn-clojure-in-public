# ClojureFam - Week 4 - Day 6

## Chapter 10 - Zombie Metaphysics

Object oriented programming an object as something that is singular and constant but with properties that changes over time.

For ex. a cuddle zombie is an object with mutable state but no matter the change in state, the object is still idenfitied as the same one.

In OOP, an object is a fancy ref cell that is subject to non-deterministic results in mulit-threaded envs since there is no guarantee of thread-safety. It needs to be explicitly performed using a mutex.

There is also no way to retain the state of an object at a specific moment in time.

### Clojure Metaphysics

Cuddle Zombie -> succession of *values*. A value is atomic -> forms a single, irreducible unit or component.

They are indivisible, unchanging, stable entities.

The value itself doesn't change but we can apply a process on a value to produce a new value.

For ex.

```clojure
(def x {:a 1 :b 2})
(println x)
(assoc x :c 3) ;; -> produces a new map with :c
(println x) ;; {:a 1 :b 2}
```

In that example, `assoc` produces a new map. `x` is unchanged.

Clojure uses identity to mean a process imposed on a succession of unchanged values over time. `state` is the value of an identity at a point in time.

A name simply refers to a series of individual states.

A reference type in Clojure is used to name an identity and retrieve it's state.

### Atom

An atom ref type lets you associate a succession of related values with an identity.

```clojure
(def fred (atom {:cuddle-hunger-level 0
                 :percent-deteriorated 0}))
```

Here an atom is created and bound to the name `fred`. `fred` refers to the value `{:cuddle-hunger-level 0 :percent-deteriorated 0}`.

Dereferencing an atom doesn't block since it's asking Clojure to return the value that the atom is referring to.
